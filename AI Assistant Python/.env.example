# AI Duty Officer Assistant - Enhanced Configuration
# This file contains all environment variables needed for the full system

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
# Basic application settings
APP_NAME=AI Duty Officer Assistant
APP_VERSION=2.0.0
DEBUG=false
HOST=0.0.0.0
PORT=8002

# =============================================================================
# AZURE OPENAI CONFIGURATION
# =============================================================================
# Required: Your Azure OpenAI credentials
AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.azure-api.net
AZURE_OPENAI_DEPLOYMENT_ID=gpt-4.1-nano
AZURE_OPENAI_API_VERSION=2025-01-01-preview

# =============================================================================
# DATABASE CONFIGURATION  
# =============================================================================
# SQLite database path (relative to application root)
DATABASE_URL=sqlite:///./duty_officer_assistant.db

# =============================================================================
# EMAIL MONITORING CONFIGURATION
# =============================================================================
# Enable/disable automatic email monitoring
EMAIL_MONITORING_ENABLED=false

# Email server settings (IMAP for receiving)
EMAIL_IMAP_SERVER=imap.gmail.com
EMAIL_IMAP_PORT=993

# Email server settings (SMTP for sending confirmations)
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587

# Email credentials (use app passwords for Gmail)
EMAIL_ADDRESS=your_email@domain.com
EMAIL_PASSWORD=your_email_app_password

# Email monitoring settings
EMAIL_CHECK_INTERVAL=60  # seconds between inbox checks
EMAIL_AUTO_REPLY=true    # send confirmation emails

# =============================================================================
# TICKETING SYSTEM INTEGRATION
# =============================================================================
# Enable automatic ticket creation
AUTO_CREATE_TICKETS=false
DEFAULT_TICKETING_SYSTEM=jira  # Options: jira, servicenow, internal

# JIRA CONFIGURATION
JIRA_URL=https://your-company.atlassian.net
JIRA_USERNAME=your_jira_email@domain.com
JIRA_TOKEN=your_jira_api_token
JIRA_PROJECT_KEY=OPS

# ServiceNow Configuration
SERVICENOW_URL=https://your-instance.service-now.com
SERVICENOW_USERNAME=your_servicenow_username
SERVICENOW_PASSWORD=your_servicenow_password

# =============================================================================
# ESCALATION CONFIGURATION
# =============================================================================
# Automatic escalation settings
AUTO_ESCALATE_HIGH_PRIORITY=true
AUTO_ESCALATE_CRITICAL_PRIORITY=true
ESCALATION_NOTIFICATION_ENABLED=true

# Default stakeholders for notifications
DEFAULT_STAKEHOLDERS=["Operations Manager", "IT Manager", "Duty Officer"]

# Escalation thresholds
CRITICAL_ESCALATION_KEYWORDS=["system down", "critical failure", "vessel emergency", "safety issue"]
HIGH_PRIORITY_KEYWORDS=["vessel error", "container issue", "edi failure", "portnet down"]

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Maximum file sizes (in MB)
MAX_LOG_FILE_SIZE=50
MAX_IMAGE_FILE_SIZE=10
MAX_FILES_PER_INCIDENT=10

# Upload directories
UPLOAD_DIR=static/uploads
LOG_DIR=static/logs

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Session and security
SECRET_KEY=your_secret_key_here_change_in_production
SESSION_TIMEOUT=3600  # seconds

# CORS settings
CORS_ENABLED=true
ALLOWED_ORIGINS=["http://localhost:8002", "https://your-domain.com"]

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/ai_assistant.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# AI API settings
OPENAI_REQUEST_TIMEOUT=30
OPENAI_MAX_RETRIES=3
OPENAI_RATE_LIMIT=60  # requests per minute

# Database settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================
# Slack integration (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
SLACK_NOTIFICATIONS_ENABLED=false

# Microsoft Teams integration (optional)
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/your/teams/webhook
TEAMS_NOTIFICATIONS_ENABLED=false

# SMS notifications (optional - requires Twilio or similar)
SMS_NOTIFICATIONS_ENABLED=false
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# MARITIME OPERATIONS SPECIFIC SETTINGS
# =============================================================================
# System monitoring keywords
PORTNET_KEYWORDS=["portnet", "port net", "vessel advice", "container tracking"]
EDI_KEYWORDS=["edi", "message", "ack_at", "error status", "processing failure"]
VESSEL_KEYWORDS=["vessel", "ship", "mv ", "container", "cargo"]

# Critical system identifiers
CRITICAL_SYSTEMS=["PORTNET", "EDI_GATEWAY", "CONTAINER_TRACKING", "VESSEL_MANAGEMENT"]

# Business hours (for escalation timing)
BUSINESS_HOURS_START=08:00
BUSINESS_HOURS_END=18:00
BUSINESS_TIMEZONE=Asia/Singapore

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development mode settings (set to false in production)
ENABLE_DEBUG_ROUTES=false
ENABLE_TEST_DATA=true
MOCK_EXTERNAL_APIS=false

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================
# Database backup settings
AUTO_BACKUP_ENABLED=true
BACKUP_INTERVAL=24  # hours
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=backups/

# System maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================
# 1. Copy this file to .env in your application root directory
# 2. Replace all "your_*" placeholders with your actual values
# 3. Set EMAIL_MONITORING_ENABLED=true to enable email processing
# 4. Set AUTO_CREATE_TICKETS=true to enable automatic ticket creation
# 5. Configure at least one ticketing system (Jira or ServiceNow)
# 6. Test the configuration by running the application
#
# SECURITY NOTE: Never commit the .env file with real credentials to version control!